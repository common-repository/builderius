(()=>{"use strict";function t(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}function e(e){return function n(r){return 0===arguments.length||t(r)?n:e.apply(this,arguments)}}function n(n){return function r(o,a){switch(arguments.length){case 0:return r;case 1:return t(o)?r:e((function(t){return n(o,t)}));default:return t(o)&&t(a)?r:t(o)?e((function(t){return n(t,a)})):t(a)?e((function(t){return n(o,t)})):n(o,a)}}}const r=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)};function o(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function a(t,e,n){for(var r=0,o=n.length;r<o;){if(t(e,n[r]))return!0;r+=1}return!1}function i(t,e){return Object.prototype.hasOwnProperty.call(e,t)}const c="function"==typeof Object.is?Object.is:function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e};var s=Object.prototype.toString;const u=function(){return"[object Arguments]"===s.call(arguments)?function(t){return"[object Arguments]"===s.call(t)}:function(t){return i("callee",t)}}();var l=!{toString:null}.propertyIsEnumerable("toString"),f=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],d=function(){return arguments.propertyIsEnumerable("length")}(),p=function(t,e){for(var n=0;n<t.length;){if(t[n]===e)return!0;n+=1}return!1};const y="function"!=typeof Object.keys||d?e((function(t){if(Object(t)!==t)return[];var e,n,r=[],o=d&&u(t);for(e in t)!i(e,t)||o&&"length"===e||(r[r.length]=e);if(l)for(n=f.length-1;n>=0;)i(e=f[n],t)&&!p(r,e)&&(r[r.length]=e),n-=1;return r})):e((function(t){return Object(t)!==t?[]:Object.keys(t)}));const h=e((function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}));function m(t,e,n,r){var i=o(t);function c(t,e){return b(t,e,n.slice(),r.slice())}return!a((function(t,e){return!a(c,e,t)}),o(e),i)}function b(t,e,n,r){if(c(t,e))return!0;var o,a,s=h(t);if(s!==h(e))return!1;if("function"==typeof t["fantasy-land/equals"]||"function"==typeof e["fantasy-land/equals"])return"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e)&&"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t);if("function"==typeof t.equals||"function"==typeof e.equals)return"function"==typeof t.equals&&t.equals(e)&&"function"==typeof e.equals&&e.equals(t);switch(s){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===(o=t.constructor,null==(a=String(o).match(/^function (\w*)/))?"":a[1]))return t===e;break;case"Boolean":case"Number":case"String":if(typeof t!=typeof e||!c(t.valueOf(),e.valueOf()))return!1;break;case"Date":if(!c(t.valueOf(),e.valueOf()))return!1;break;case"Error":return t.name===e.name&&t.message===e.message;case"RegExp":if(t.source!==e.source||t.global!==e.global||t.ignoreCase!==e.ignoreCase||t.multiline!==e.multiline||t.sticky!==e.sticky||t.unicode!==e.unicode)return!1}for(var u=n.length-1;u>=0;){if(n[u]===t)return r[u]===e;u-=1}switch(s){case"Map":return t.size===e.size&&m(t.entries(),e.entries(),n.concat([t]),r.concat([e]));case"Set":return t.size===e.size&&m(t.values(),e.values(),n.concat([t]),r.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var l=y(t);if(l.length!==y(e).length)return!1;var f=n.concat([t]),d=r.concat([e]);for(u=l.length-1;u>=0;){var p=l[u];if(!i(p,e)||!b(e[p],t[p],f,d))return!1;u-=1}return!0}const g=n((function(t,e){return b(t,e,[],[])}));var j=function(t){return(t<10?"0":"")+t};Date.prototype.toISOString;function A(t){return"[object Object]"===Object.prototype.toString.call(t)}const v=Number.isInteger||function(t){return(t|0)===t};function E(t){return"[object String]"===Object.prototype.toString.call(t)}const S=n((function(t,e){var n=t<0?e.length+t:t;return E(e)?e.charAt(n):e[n]}));function O(r){return function o(a,i,c){switch(arguments.length){case 0:return o;case 1:return t(a)?o:n((function(t,e){return r(a,t,e)}));case 2:return t(a)&&t(i)?o:t(a)?n((function(t,e){return r(t,i,e)})):t(i)?n((function(t,e){return r(a,t,e)})):e((function(t){return r(a,i,t)}));default:return t(a)&&t(i)&&t(c)?o:t(a)&&t(i)?n((function(t,e){return r(t,e,c)})):t(a)&&t(c)?n((function(t,e){return r(t,i,e)})):t(i)&&t(c)?n((function(t,e){return r(a,t,e)})):t(a)?e((function(t){return r(t,i,c)})):t(i)?e((function(t){return r(a,t,c)})):t(c)?e((function(t){return r(a,i,t)})):r(a,i,c)}}}"undefined"!=typeof Symbol&&Symbol.iterator;var _=e((function(t){return null!=t&&"function"==typeof t["fantasy-land/empty"]?t["fantasy-land/empty"]():null!=t&&null!=t.constructor&&"function"==typeof t.constructor["fantasy-land/empty"]?t.constructor["fantasy-land/empty"]():null!=t&&"function"==typeof t.empty?t.empty():null!=t&&null!=t.constructor&&"function"==typeof t.constructor.empty?t.constructor.empty():r(t)?[]:E(t)?"":A(t)?{}:u(t)?function(){return arguments}():function(t){var e=Object.prototype.toString.call(t);return"[object Uint8ClampedArray]"===e||"[object Int8Array]"===e||"[object Uint8Array]"===e||"[object Int16Array]"===e||"[object Uint16Array]"===e||"[object Int32Array]"===e||"[object Uint32Array]"===e||"[object Float32Array]"===e||"[object Float64Array]"===e||"[object BigInt64Array]"===e||"[object BigUint64Array]"===e}(t)?t.constructor.from(""):void 0}));const I=_;const C=e((function(t){return null==t}));const w=n((function(t,e){return!C(e)&&t in e}));"function"==typeof Object.assign&&Object.assign;const q=n((function(t,e){return e instanceof t||null!=e&&(e.constructor===t||"Object"===t.name&&"object"==typeof e)}));const x=e((function(t){return null!=t&&g(t,I(t))}));const U=n((function(t,e){return t.map((function(t){for(var n,r=e,o=0;o<t.length;){if(null==r)return;n=t[o],r=v(n)?S(n,r):r[n],o+=1}return r}))}));const k=n((function(t,e){return U([t],e)[0]}));const L=n((function(t,e){return null==e||e!=e?t:e}));const J=O((function(t,e,n){return L(t,k(e,n))}));var M="\t\n\v\f\r                　\u2028\u2029\ufeff";String.prototype.trim;const B=t=>t.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&#0?39;/g,"'").replace(/&quot;/g,'"').replace(/&amp;/g,"&");function P(t,...e){if("string"==typeof t)return B(t);let n=t[0];for(const[r,o]of e.entries())n=n+B(String(o))+t[r+1];return n}class z extends HTMLElement{static get observedAttributes(){return["data-content"]}constructor(){super(),this.script=null,this.createdItems=[],this.dataContent=[],this.onReadyCb=()=>{this._maybeInitiate()},document.addEventListener("builderius.customElements.api.ready",(()=>{this.onReadyCb()}),!1)}connectedCallback(){z.isBuilderMode()&&this.onReadyCb()}disconnectedCallback(){this.reset(),document.removeEventListener("builderius.customElements.api.ready",(()=>{}),!1)}attributeChangedCallback(t){this._upgradeProperty(t),this.onReadyCb()}_maybeInitiate(){this.json={"@context":"https://schema.org","@type":"FAQPage",mainEntity:[]};const t=document.querySelector("head");t&&C(this.jsonEl)&&(this.jsonEl=document.createElement("script"),this.jsonEl.type="application/ld+json",t.appendChild(this.jsonEl)),this._initiateScript()}_upgradeProperty(t){const e=this._camalize(t);if(w(e,this)){let t=this[e];delete this[e],this[e]=t}}_fromDataset(t,e=null){const n=C(e)?{...this.dataset}:{...e.dataset};return C(n[t])?n[t]:P(n[t])}set dataContent(t){this._maybeInitiate()}get dataContent(){const t=this._fromDataset("content");return this._parseJson(t)}_parseJson(t){let e={};if(q(Array,t))e=t.map((t=>this._parseJson(t)));else if(q(Object,t))for(let n in t)e[n]=this._parseJson(t[n]);else q(String,t)?(t=z.fromJson(t),e=q(Object,t)?this._parseJson(t):t):e=t;return e}_initiateScript(){try{if(this._removeItems(),q(Array,this.dataContent)){this._prepareHtml(),this._render(),this._renderMicrodata();const t=this.querySelectorAll("[data-accordion-header]");Array.prototype.forEach.call(t,(t=>{const e=t.parentElement;let n=t.parentElement.nextElementSibling;t.onclick=()=>{let r="true"===t.getAttribute("aria-expanded")||!1;t.setAttribute("aria-expanded",!r),n.hidden=r,r?e.classList.remove("expanded"):e.classList.add("expanded")}})),this._dispatchEvent("rendered",{el:this,content:this.dataContent})}}catch(t){console.error(t)}}_render(){if(!x(this.createdItems))for(let t of[...this.createdItems])this.appendChild(t)}_renderMicrodata(){x(this.json)||C(this.jsonEl)||(this.jsonEl.innerHTML=JSON.stringify(this.json,"",2))}_prepareHtml(){const t=document.createElement("span"),e=document.createElement("i");e.classList.add("plusIcon"),t.appendChild(e),this.json.mainEntity=[];let n=[];for(let e of[...this.dataContent]){const r=J("",["name"],e),o=J("",["text"],e),a=document.createElement("button"),i=this._getUid(),c=`accordion-header-${i}`,s=`accordion-panel-${i}`;a.id=c,a.setAttribute("aria-controls",s),a.setAttribute("aria-expanded",!1),a.setAttribute("data-accordion-header",!0),a.innerText=r;const u=t.cloneNode(!0);u.setAttribute("aria-hidden",!0),a.appendChild(u);const l=document.createElement("div");l.classList.add("description-term"),l.appendChild(a);const f=document.createElement("div");f.classList.add("description-details"),f.id=s,f.setAttribute("aria-labelledby",c),f.setAttribute("role","region"),f.innerHTML=o,f.hidden=!0,this._addItem(l),this._addItem(f);const d={"@type":"Question",name:r,acceptedAnswer:{"@type":"Answer",text:o}};n=[...n,d]}this.json.mainEntity=n}_getUid(){return Math.random().toString(36).substr(2,9)}_addItem(t){this.createdItems.push(t)}_removeItems(){this.createdItems.map((t=>t.remove())),this.createdItems=[]}reInit(){this.script=null,this._initiateScript()}reset(){this.jsonEl&&this.jsonEl.remove()}_camalize(t){return t.toLowerCase().replace(/[^a-zA-Z0-9]+(.)/g,((t,e)=>e.toUpperCase()))}_dispatchEvent(t,e=null){const n={bubbles:!1,cancelable:!0,detail:e},r=new CustomEvent(t,n),o=new CustomEvent(`builderius-accordion-${t}`,n);this.dispatchEvent(r),window.dispatchEvent(o)}static fromJson(t){let e={};if(q(String,t))try{e=JSON.parse(P(t))}catch(e){return t}return e}static isBuilderMode(){return!1!==J(!1,["Builderius","API","registerStore"],window)}}customElements.define("builderius-accordion",z)})();